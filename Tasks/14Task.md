1. Исходно у нас есть следующий набор таблиц.
	1. Students - список студентов.
	1. Courses - список курсов.
	1. Enrollments - таблица связи, с указанием даты посещения.
	1. Groups - список групп.
![Схема БД](Resources\14TaskDbScheme.png)
1. Если нам нужно получить список студентов с курсами, на которые они записаны (студенты без курсов будут откинуты) - я воспользуюсь соединением через простой join (алиас inner join).
```
SELECT 
    s.name AS student_name,
    c.title AS course_title,
    e.enrollment_date
FROM students s
INNER JOIN enrollments e ON s.id = e.student_id
INNER JOIN courses c ON e.course_id = c.id;


student_name    |course_title     |enrollment_date|
----------------+-----------------+---------------+
Иван Петров     |Базы данных      |     2023-09-01|
Иван Петров     |Веб-разработка   |     2023-09-01|
Алексей Иванов  |Алгоритмы        |     2023-09-03|
Елена Смирнова  |Машинное обучение|     2023-09-04|
Иван Петров     |История          |     2023-09-05|
Дмитрий Кузнецов|История          |     2023-09-06|
```
2. Предположим, что нам так же нужно получить список всех студентов и их связи с курсами, но не откидывать студентов без курсов, а так же вывести их - в таком случае нам подойдет связь через left join.
```
SELECT 
    s.name AS student_name,
    c.title AS course_title,
    e.enrollment_date
FROM students s
LEFT JOIN enrollments e ON s.id = e.student_id
LEFT JOIN courses c ON e.course_id = c.id;

student_name    |course_title     |enrollment_date|
----------------+-----------------+---------------+
Иван Петров     |Базы данных      |     2023-09-01|
Иван Петров     |Веб-разработка   |     2023-09-01|
Алексей Иванов  |Алгоритмы        |     2023-09-03|
Елена Смирнова  |Машинное обучение|     2023-09-04|
Иван Петров     |История          |     2023-09-05|
Дмитрий Кузнецов|История          |     2023-09-06|
Мария Сидорова  |                 |               |
```
3. Аналогично - можно получить список всех курсов, даже тех на которые ни кто из студентов не записан - заменив left join на right join.
```
SELECT 
    s.name AS student_name,
    c.title AS course_title,
    e.enrollment_date
FROM students s
RIGHT JOIN enrollments e ON s.id = e.student_id
RIGHT JOIN courses c ON e.course_id = c.id;

student_name    |course_title     |enrollment_date|
----------------+-----------------+---------------+
Иван Петров     |Базы данных      |     2023-09-01|
Иван Петров     |Веб-разработка   |     2023-09-01|
Алексей Иванов  |Алгоритмы        |     2023-09-03|
Елена Смирнова  |Машинное обучение|     2023-09-04|
Иван Петров     |История          |     2023-09-05|
Дмитрий Кузнецов|История          |     2023-09-06|
                |Физкультура      |               |
```
4. Но если нам надо и всех студентов и все курсы - есть full join.
```
SELECT 
    s.name AS student_name,
    c.title AS course_title,
    e.enrollment_date
FROM students s
FULL JOIN enrollments e ON s.id = e.student_id
FULL JOIN courses c ON e.course_id = c.id;

student_name    |course_title     |enrollment_date|
----------------+-----------------+---------------+
Иван Петров     |Базы данных      |     2023-09-01|
Иван Петров     |Веб-разработка   |     2023-09-01|
Алексей Иванов  |Алгоритмы        |     2023-09-03|
Елена Смирнова  |Машинное обучение|     2023-09-04|
Иван Петров     |История          |     2023-09-05|
Дмитрий Кузнецов|История          |     2023-09-06|
Мария Сидорова  |                 |               |
                |Физкультура      |               |
```
5. Так же вполне нормальной ситуацией является комбинирование разных видов соединений в одном запросе - join (inner join) быстрее, чем left join, по этой причине - если пустые значения не требуются - лучше всего использовать его, где это возможно.
```
SELECT 
    s.name AS student_name,
    c.title AS course_title,
    e.enrollment_date,
    g.name as GroupName
FROM students s
LEFT JOIN groups g ON s.groupid = g.id
JOIN enrollments e ON s.id = e.student_id
JOIN courses c ON e.course_id = c.id;


student_name    |course_title     |enrollment_date|groupname|
----------------+-----------------+---------------+---------+
Иван Петров     |Базы данных      |     2023-09-01|         |
Иван Петров     |Веб-разработка   |     2023-09-01|         |
Алексей Иванов  |Алгоритмы        |     2023-09-03|Группа 1 |
Елена Смирнова  |Машинное обучение|     2023-09-04|Группа 1 |
Иван Петров     |История          |     2023-09-05|         |
Дмитрий Кузнецов|История          |     2023-09-06|         |
```
6. Если нам потребуется посмотреть, на какие курсы могли бы быть записаны студенты (декартово произведение студентов и курсов) - можно воспользоваться CROSS JOIN. 
```
SELECT 
    s.name AS student_name,
    c.title AS course_title
FROM students s
CROSS JOIN courses c;

student_name    |course_title     |
----------------+-----------------+
Иван Петров     |Базы данных      |
Иван Петров     |Веб-разработка   |
Иван Петров     |Алгоритмы        |
Иван Петров     |Машинное обучение|
Иван Петров     |История          |
Иван Петров     |Физкультура      |
Дмитрий Кузнецов|Базы данных      |
Дмитрий Кузнецов|Веб-разработка   |
Дмитрий Кузнецов|Алгоритмы        |
Дмитрий Кузнецов|Машинное обучение|
Дмитрий Кузнецов|История          |
Дмитрий Кузнецов|Физкультура      |
Мария Сидорова  |Базы данных      |
Мария Сидорова  |Веб-разработка   |
Мария Сидорова  |Алгоритмы        |
Мария Сидорова  |Машинное обучение|
Мария Сидорова  |История          |
Мария Сидорова  |Физкультура      |
Алексей Иванов  |Базы данных      |
Алексей Иванов  |Веб-разработка   |
Алексей Иванов  |Алгоритмы        |
Алексей Иванов  |Машинное обучение|
Алексей Иванов  |История          |
Алексей Иванов  |Физкультура      |
Елена Смирнова  |Базы данных      |
Елена Смирнова  |Веб-разработка   |
Елена Смирнова  |Алгоритмы        |
Елена Смирнова  |Машинное обучение|
Елена Смирнова  |История          |
Елена Смирнова  |Физкультура      |
```

